<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D人体解剖模型</title>
    <style>
        body { 
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #f0f0f0;
        }
        #scene-container { 
            width: 100%;
            height: 100vh;
            background-color: #000;
        }
    </style>
</head>
<body>
    <div id="scene-container"></div>

    <!-- 添加 Babylon.js -->
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="js/AnatomyScene.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', function() {
            // 获取canvas容器
            const canvas = document.createElement('canvas');
            const container = document.getElementById('scene-container');
            container.appendChild(canvas);
            canvas.style.width = '100%';
            canvas.style.height = '100%';

            try {
                // 创建和运行解剖场景
                const anatomyScene = new AnatomyScene(canvas);
                anatomyScene.createScene();
                anatomyScene.run();

                // 添加器官选中事件监听
                document.addEventListener('organSelected', function(event) {
                    const organName = event.detail.organName;
                    console.log('Selected organ:', organName);
                    // 这里可以添加更新UI的代码
                });

                console.log('Anatomy scene is running');
            } catch (error) {
                console.error('Error creating scene:', error);
            }
        });
    </script>
</body>
</html>